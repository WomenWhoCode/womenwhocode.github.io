<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Women Who Code Project Listings  : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Women Who Code Projects</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/WomenWhoCode">View on GitHub</a>

          <h1 id="project_title">Women Who Code Projects</h1>
          <h2 id="project_tagline"></h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <div class="wrapper main-content">
          <div>
            <section>
              <div id="w" class="content">
                <div id="ghapidata" class="clearfix"></div>
              </div>
            </section>
          </div>
        </div>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.js"></script>
    <script src="../assets/javascripts/scale.fix.js"></script>

    <script type="text/javascript">

      $(function() {
          var orgName = 'womenwhocode';
        var requri   = 'https://api.github.com/orgs/'+orgName;
        var repouri  = 'https://api.github.com/users/'+orgName+'/repos';

        requestJSON(requri, function(json) {
          
          if(json.message == "Not Found" || orgName == '') {
            $('#ghapidata').html("<h2>No repositories found</h2>");
          }
          
          else {
            // else we have a repo and we display their info
            var fullname   = json.name;
            var orgName   = json.login;
            var aviurl     = json.avatar_url;
            var profileurl = json.html_url;
            var location   = json.location;
            var followersnum = json.followers;
            var followingnum = json.following;
            var reposnum     = json.public_repos;
            
            if(fullname == undefined) { fullname = orgName; }
            
            var outhtml = '<h3>Listing of repositories under <a href="'+profileurl+'" target="_blank">'+orgName+'</a> ('+reposnum+')</h3></span>';
            
            outhtml = outhtml + '<div class="repolist clearfix">';
            
            
            var repositories;
            $.getJSON(repouri, function(json){
              repositories = json;   
              outputPageContent();                
            });          
            
            function outputPageContent() {
              if(repositories.length == 0) { 
                outhtml = outhtml + '<p>No repos!</p></div>'; 
              }
              else {
                $.each(repositories, function(index) {
                  outhtml = outhtml + '<li><h4><a href="'+repositories[index].html_url+'" target="_blank">'+repositories[index].name + '</a><h4></li>';
                });
                outhtml = outhtml + '</ul></div>'; 
              }
              $('#ghapidata').html(outhtml);
            } // end outputPageContent()
          } // end else statement
        }); // end requestJSON Ajax call
      });

      function requestJSON(url, callback) {
        $.ajax({
          url: url,
          complete: function(xhr) {
            callback.call(null, xhr.responseJSON);
          }
        });
      }
    </script>
  </body>
</html>
</html>



